---

preconf:

  # Packages to remove or purge. Executed first. The `state` or `purge` field are not required.
  # You can use `state: ignored` for excluding some packages from removal. Purge is `False` by default.
  packages_remove:
    some_example_pkg:
      purge: True
      state: ignored

  apt_keys:
    nodesource:
      id: 1655A0AB68576280
      url: https://deb.nodesource.com/gpgkey/nodesource.gpg.key
      state: ignored
    sbt:
      id: 2EE0EA64E40A89B84B2DF73499E82A75642AC823
      keyserver: keyserver.ubuntu.com
      state: ignored
    influxdata:
      id: 2582E0C5
      url: https://repos.influxdata.com/influxdb.key
      state: ignored
    tor:
      id: A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89
      url: https://deb.torproject.org/torproject.org/A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89.asc
      state: ignored
    openjdk-r:
      id: DA1A4A13543B466853BAF164EB9B1D8886F44E2A
      keyserver: keyserver.ubuntu.com
      state: ignored

  repositories:

    nodejs_10:
      repository: deb https://deb.nodesource.com/node_10.x {{ ansible_distribution_release }} main
      filename: nodesource
      state: ignored

    nodejs_10_src:
      repository: deb-src https://deb.nodesource.com/node_10.x {{ ansible_distribution_release }} main
      filename: nodesource
      state: ignored

    nodejs_10_xenial:
      repository: deb https://deb.nodesource.com/node_10.x xenial main
      filename: nodesource
      state: ignored

    nodejs_10_xenial_src:
      repository: deb-src https://deb.nodesource.com/node_10.x xenial main
      filename: nodesource
      state: ignored

    sbt:
      repository: deb https://dl.bintray.com/sbt/debian /
      filename: sbt
      state: ignored

    tor_stable:
      repository: deb https://deb.torproject.org/torproject.org {{ ansible_distribution_release }} main
      filename: tor
      state: ignored

    tor_stable_src:
      repository: deb-src https://deb.torproject.org/torproject.org {{ ansible_distribution_release }} main
      filename: tor
      state: ignored

    tor_stable_xenial:
      repository: deb https://deb.torproject.org/torproject.org xenial main
      filename: tor
      state: ignored

    tor_stable_xenial_src:
      repository: deb-src https://deb.torproject.org/torproject.org xenial main
      filename: tor
      state: ignored

    openjdk-r:
      repository: deb http://ppa.launchpad.net/openjdk-r/ppa/ubuntu {{ ansible_distribution_release }} main
      filename: openjdk-r
      state: ignored

    openjdk-r_src:
      repository: deb-src http://ppa.launchpad.net/openjdk-r/ppa/ubuntu {{ ansible_distribution_release }} main
      filename: openjdk-r
      state: ignored

  package_sets:
    common:
      - acl
      - curl
      - htop
      - mc
      - ncdu
      - nmap
      - rsync
      - screen
      - sudo
      - zram-config
    openjdk-r:
      - openjdk-11-jdk
    server:
      - fail2ban
    suggested:
      - apachetop
      - aptitude
      - atop
      - dar
      - dstat
      - fortunes-ubuntu-server
      - git-svn
      # This package is not available in Ubuntu 18.04 Bionic Beaver, in spite of kernel use mcelog legacy
#      - mcelog
      - mytop
      - lynx
      - p7zip
      # This package is not available in Ubuntu 18.04 Bionic Beaver
#      - python-software-properties
      - rar
      - subversion
      # It seems this package has no sense in Ubuntu 16.04 Xenial Xerus
  #    - sysv-rc-conf
      - vim
      # visitors is not available in Ubuntu 16.04 Xenial Xerus
  #    - visitors

  package_sets_install:
    - common

  hostname:
    apply: no
    hostname: example
    fqdn: example.org
    ipv4: 127.0.1.1
  hosts: ''
  sysctl: {}
    # Next is Dropbox and PhpStorm issue:
    #
    # Dropbox:
    # echo fs.inotify.max_user_watches=100000 | sudo tee -a /etc/sysctl.conf; sudo sysctl -p
    #
    # PhpStorm:
    # http://confluence.jetbrains.com/display/IDEADEV/Inotify+Watches+Limit
    # 1. In file "/etc/sysctl.conf" change/add row: "fs.inotify.max_user_watches = 524288"
    # 2. Then "sudo sysctl -p" to apply changes immediately
#    fs.inotify.max_user_watches: 524288
  utilities:
    - apt-file
    - bc
    - ccze
    - facter
    - fail2ban
    - grc
    - iftop
    - ioping
    - iotop
    - itop
    - lm-sensors
    - lsscsi
    - ncurses-term
    - nethogs
    - powertop
    - pwgen
    - rsnapshot
    - smartmontools
    - sysstat
    - tcpdump
    - tmux
    - traceroute
    - tree
    - wget
